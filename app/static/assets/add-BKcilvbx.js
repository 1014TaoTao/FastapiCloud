import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{S as t,T as n,_ as r,d as i,f as a,l as o,r as s,s as c,u as l,w as u,y as d}from"./elementPlus-B0Uo40rQ.js";import{i as f}from"./vue-D2oYtO8u.js";import"./axios-Ds9zzBra.js";import{c as p,t as m}from"./index-BuzqHPGb.js";var h={class:`user-form-container`},g=p(a({__name:`add`,setup(e){let a=f(),p=u({username:``,password:``,name:``,status:!0,description:``}),g=n(!1),_=()=>p.username?p.name?p.password?!0:(s.warning(`请输入密码`),!1):(s.warning(`请输入昵称`),!1):(s.warning(`请输入用户名`),!1),v=async()=>{if(_()){g.value=!0;try{await m(p),s.success(`用户创建成功`),a.push(`/users`)}catch(e){s.error(`创建用户失败`),console.error(`Create user error:`,e)}finally{g.value=!1}}},y=()=>{a.push(`/users`)};return(e,n)=>{let a=d(`el-input`),s=d(`el-form-item`),u=d(`el-switch`),f=d(`el-button`),m=d(`el-form`);return r(),o(`div`,h,[n[7]||=c(`h2`,{class:`page-title`},`创建用户`,-1),i(m,{model:p,"label-width":`100px`,class:`user-form`},{default:t(()=>[i(s,{label:`用户名`},{default:t(()=>[i(a,{modelValue:p.username,"onUpdate:modelValue":n[0]||=e=>p.username=e,placeholder:`请输入用户名`},null,8,[`modelValue`])]),_:1}),i(s,{label:`昵称`},{default:t(()=>[i(a,{modelValue:p.name,"onUpdate:modelValue":n[1]||=e=>p.name=e,placeholder:`请输入昵称`},null,8,[`modelValue`])]),_:1}),i(s,{label:`密码`},{default:t(()=>[i(a,{modelValue:p.password,"onUpdate:modelValue":n[2]||=e=>p.password=e,type:`password`,placeholder:`请输入密码`},null,8,[`modelValue`])]),_:1}),i(s,{label:`是否激活`},{default:t(()=>[i(u,{modelValue:p.status,"onUpdate:modelValue":n[3]||=e=>p.status=e},null,8,[`modelValue`])]),_:1}),i(s,{label:`备注`},{default:t(()=>[i(a,{modelValue:p.description,"onUpdate:modelValue":n[4]||=e=>p.description=e,type:`textarea`,placeholder:`请输入备注`,rows:`3`},null,8,[`modelValue`])]),_:1}),i(s,null,{default:t(()=>[i(f,{type:`primary`,onClick:v,loading:g.value},{default:t(()=>[...n[5]||=[l(` 创建 `,-1)]]),_:1},8,[`loading`]),i(f,{onClick:y},{default:t(()=>[...n[6]||=[l(`取消`,-1)]]),_:1})]),_:1})]),_:1},8,[`model`])])}}}),[[`__scopeId`,`data-v-fa9d3fe8`]]);export{g as default};